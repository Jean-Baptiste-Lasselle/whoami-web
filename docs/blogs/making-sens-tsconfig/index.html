<!DOCTYPE html>
<html>

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="icon" href=https://jean-baptiste-lasselle.github.io/whoami-web///images/devops_cycle_eight.png type="image/gif">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
    href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
    rel="stylesheet">


<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//css/font.css" media="all">



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'G-DWJJVE27WD', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

<meta property="og:title" content="(WIP) Making sense of your tsconfig.json - episode 1" />
<meta property="og:description" content="I recently needed to develop an npx executable, and wanted to code in TypeScript.
I therefore had to run again tsc --init, and that&rsquo;s where I decided to write this series of articles, with the goal to deeply understand how to choose my tsconfig.json configuration options.
In this series, I will not review every single option to explain what their purpose is :
I want to be able to understand globally the real nature of each of those options, I want to be able to make different configuration options choices, and understand why i will, when I will." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jean-baptiste-lasselle.github.io/whoami-web/blogs/making-sens-tsconfig/" /><meta property="article:section" content="blogs" />
<meta property="article:published_time" content="2022-06-09T08:53:58+05:30" />
<meta property="article:modified_time" content="2022-06-09T08:53:58+05:30" /><meta property="og:site_name" content="Devops Quant - Gitops everywhere" />


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="(WIP) Making sense of your tsconfig.json - episode 1"/>
<meta name="twitter:description" content="I recently needed to develop an npx executable, and wanted to code in TypeScript.
I therefore had to run again tsc --init, and that&rsquo;s where I decided to write this series of articles, with the goal to deeply understand how to choose my tsconfig.json configuration options.
In this series, I will not review every single option to explain what their purpose is :
I want to be able to understand globally the real nature of each of those options, I want to be able to make different configuration options choices, and understand why i will, when I will."/>



<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//bootstrap-5/css/bootstrap.min.css" media="all">
<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//css/header.css" media="all">
<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//css/footer.css" media="all">


<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//css/theme.css" media="all">




<style>
    :root {
        --text-color: #343a40;
        --text-secondary-color: #6c757d;
        --background-color: #eaedf0;
        --secondary-background-color: #64ffda1a;
        --primary-color: #007bff;
        --secondary-color: #f8f9fa;

         
        --text-color-dark: #e4e6eb;
        --text-secondary-color-dark: #b0b3b8;
        --background-color-dark: #18191a;
        --secondary-background-color-dark: #212529;
        --primary-color-dark: #ffffff;
        --secondary-color-dark: #212529;
    }
    body {
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        text-align: left;
    }
</style>

<meta name="description" content="">
<link rel="stylesheet" href="https://jean-baptiste-lasselle.github.io/whoami-web//css/single.css">


<script defer src="https://jean-baptiste-lasselle.github.io/whoami-web//fontawesome-5/all-5.15.4.js"></script>

  <title>
(WIP) Making sense of your tsconfig.json - episode 1 | Devops Quant

  </title>
</head>

<body class="light" onload="loading()">
  
  
  <script src="https://jean-baptiste-lasselle.github.io/whoami-web//bootstrap-5/js/bootstrap.bundle.js"></script>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>



<header>
    <nav class="pt-3 navbar navbar-expand-lg">
        <div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5">
            
            <a class="navbar-brand primary-font text-wrap" href="/whoami-web">
                
                <img src="https://jean-baptiste-lasselle.github.io/whoami-web///images/devops_cycle_eight.png"
                    class="devops quant logo d-inline-block align-top">
                Devops Quant - Gitops everywhere
                
            </a>

            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true">
                    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
                </svg>
            </button>

            
            <div class="collapse navbar-collapse text-wrap primary-font" id="navbarContent">
                <ul class="navbar-nav ms-auto text-center">
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web#about" aria-label="about">About</a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web#experience"
                            aria-label="experience">Experience</a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web#education"
                            aria-label="education">Education</a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web#projects"
                            aria-label="projects">Projects</a>
                    </li>
                    

                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web#contact"
                            aria-label="contact">Contact</a>
                    </li>
                    

                    
                    
                    
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/whoami-web/blogs" title="Blog posts">
                            
                            Blog
                        </a>
                    </li>
                    
                    
                </ul>

                
                
                <div class="text-center">
                    <button id="theme-toggle">
                        <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                        <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </button>
                </div>

                
            </div>
        </div>
    </nav>
</header>
<div id="content">
<section id="single">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-12 col-lg-9">
        <div class="pr-lg-4">
          <div class="title mb-5">
            <h1 class="text-center mb-4">(WIP) Making sense of your tsconfig.json - episode 1</h1>
            <div class="text-center">
              Jean-B. Lasselle
              <small>|</small>
              Jun 9, 2022
            </div>
          </div>
          
          <div class="featured-image">
            <img class="img-fluid" src="https://jean-baptiste-lasselle.github.io/whoami-web///images/post.jpg" alt="(WIP) Making sense of your tsconfig.json - episode 1">
          </div>
          
          <article class="page-content  p-2">
          <p>I recently needed to develop an <code>npx</code> executable, and wanted to code in <code>TypeScript</code>.</p>
<p>I therefore had to run again <code>tsc --init</code>, and that&rsquo;s where I decided to write this series of articles, with the goal to deeply understand how to choose my <code>tsconfig.json</code> configuration options.</p>
<p>In this series, I will not review every single option to explain what their purpose is :</p>
<ul>
<li>I want to be able to understand globally the real nature of each of those options,</li>
<li>I want to be able to make different configuration options choices, and understand why i will, when I will.</li>
</ul>
<p>This is the Eisode 1 of this series, which will uncover the un-uncoverable, the one thing we never dive into: the <code>tsconfig;json</code></p>
<!-- more -->
<p>I first began with an extremely simple project consisting of the project structure as followed :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ tree -alh
</span></span><span style="display:flex;"><span>.
</span></span><span style="display:flex;"><span>├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  bin
</span></span><span style="display:flex;"><span>│   └── <span style="color:#f92672">[</span> 497<span style="color:#f92672">]</span>  index.js
</span></span><span style="display:flex;"><span>├── <span style="color:#f92672">[</span> 537<span style="color:#f92672">]</span>  package.json
</span></span><span style="display:flex;"><span>└── <span style="color:#f92672">[</span> 207<span style="color:#f92672">]</span>  README.md
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">1</span> directory, <span style="color:#ae81ff">3</span> files
</span></span></code></pre></div><p>From there, I wanted the <code>./bin/index.js</code> to be compiled from <code>TypeScript</code>.</p>
<p>So I executed the following steps :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npm install --save-dev typescript @types/node
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir src --outDir bin
</span></span></code></pre></div><p>And tha&rsquo;s where this work began.</p>
<p>This work is about actually understanding how to start a new <code>TypeScript</code> project, a question which a lot of people have experienced, ending with les or more success.</p>
<p>In the present work, I will in the conclusion explain you :</p>
<ul>
<li>Why <a href="https://medium.com/@tommedema/typescript-confusion-tsconfig-json-module-moduleresolution-target-lib-explained-65db2c44b491">this article</a> is completely wrong about probably every single one of its assertions.
<ul>
<li>That the work behind this article is very likely to be reduced to:
<ul>
<li>running <code>tsc --init --help</code>,</li>
<li>reading the <code>--target</code>, <code>--module</code>, <code>--moduleResolution</code>, <code>--lib</code> documentation, misunderstanding it completely, and imagining foolish things like the assetion about polyfill</li>
</ul>
</li>
<li>That this article is completely missing the point especially about the <code>--lib</code> option, for one good reason :
<ul>
<li>because &ldquo;front end people&rdquo;, are really not used to what copmpilation is,</li>
<li>for example they are not used to read and run a Makefile with several target systems,</li>
<li>an,other example those developers would not ever be able to just quote one or two Golang compiler options</li>
<li>even more than that, those people certainly have never worked with a framework like Spring,</li>
<li>and they certainly do not understand a pattern like Abstract Factory in Java</li>
<li>and they certainly do not understand what are:
<ul>
<li>methods / function dynamic polymorphism (passing as arguments, objects from different types, only assuming those types implement one same interface)</li>
<li>Java JRE Standard Override Mechanism :
<ul>
<li>It is based on the <code>-Djava.endorsed.dirs &lt;path to directory containing jars to load&gt;</code></li>
<li>You can check in a java program the value of that <code>java.endorsed.dirs</code> Java JRE Sytstem variable, by excuting <code>System.getProperty(&quot;java.endorsed.dirs&quot;)</code></li>
<li>This system is well known for example :
<ul>
<li>to set what implementation are used for networking example <code>CORBA</code> protocol used for webservices</li>
<li>to set a specific XML SAX parser <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/standards/">https://docs.oracle.com/javase/8/docs/technotes/guides/standards/</a></li>
</ul>
</li>
</ul>
</li>
<li>see <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/standards/">https://docs.oracle.com/javase/8/docs/technotes/guides/standards/</a> , the &ldquo;<code>Endorsed Standards</code>&rdquo; section.</li>
<li>How you can implement an inversion of control / modularization framework using sring like techniques :
<ul>
<li>in a configuration file, we find class names for objects, and maybe the path to the binary defining those classes</li>
<li>the ioc program creates instances of that type (a Class is a Type), providing those classes do implement a given interfaces: in Spring Framework, that&rsquo;s called beans</li>
<li>the program managed by ioc, runs with the provided instances, to complete its tasks.</li>
<li>i will demo that :
<ul>
<li>i will implement an ioc program and will deploy a demo app into that container</li>
<li>i will compare using a rather recent java framework : <a href="https://quarkus.io/">https://quarkus.io/</a> and springboot</li>
<li>all in distroless containers</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>How <a href="https://docs.joshuatz.com/cheatsheets/node-and-npm/node-esm/#typescript---fully-resolved-import-filepaths-with-extensions">this other article</a> :
<ul>
<li>shows much more interesting content about the problem of starting a TypeScript / NodeJS ESM Module project</li>
<li>is astonishingly related to the reasons why I am developing <code>Hugo-Gmented</code>, starting with this repo&rsquo;s npx module, see indeed :
<ul>
<li><a href="https://docs.joshuatz.com/cheatsheets/node-and-npm/node-esm/#typescript---fully-resolved-import-filepaths-with-extensions">this other article</a> was made by <code>joshuatz</code> on his personal website <a href="https://joshuatz.com/">https://joshuatz.com/</a></li>
<li><code>Joshua TZ</code> made his personal website <a href="https://joshuatz.com/">https://joshuatz.com/</a> using the <a href="https://gatsby.io">Gatsby</a> &rsquo;s Headless CMS, while I made my personal website using <code>Hugo</code> :
<ul>
<li>There are 2 families of headless CMS , in this world : the Git based headless CMS, and the API based Headless CMS,</li>
<li>Hugo is the world &rsquo;s number one Git-based headless CMS by far</li>
<li>Gatsby is the world&rsquo;s number one API-based headless CMS by far</li>
<li>all other headless CMS in the world are in iether of those families, there are even hybrids, but none of them match <code>Gatsby</code> and <code>Hugo</code> :
<ul>
<li>directus</li>
<li>strapi</li>
<li>etc&hellip;</li>
</ul>
</li>
</ul>
</li>
<li><code>Joshua TZ</code> &rsquo;s Gtihub profile <a href="https://github.com/joshuatz">https://github.com/joshuatz</a> has a few good looking and interesting things :
<ul>
<li>How come he also worked with cloudinary :) (his little tool is interesting as far as pokus is concerned) : <a href="https://github.com/joshuatz/desktop-cloud-transform">https://github.com/joshuatz/desktop-cloud-transform</a></li>
<li><code>Hugo Gmented</code> is related to one of my main projects : <code>Pokus</code></li>
<li>In one of the website project i worked on using <code>hugo</code>, I started indeed using image CDN management for deployment, especially using Gulp tasks for image processing :
<ul>
<li>I used gulp taks to process tasks on iamge files : resizing, compressing, image transformations (adding special effects like blurring)</li>
<li>I used deployment pipeline to deploy gulp processed images to iamge CDN :
<ul>
<li>one gulp tasks would deploy image files to a CDN , in dev environment ( a local iamge CDN installed with docker comppose, it could even be directus used as a pure CDN)</li>
<li>one gulp tasks would deploy image files to a CDN , in staging environment : cloudinary, if cloudinary accepts multiple envionments / organizations. I cloudinary would not support multiple organizations or environments, i will use Optimole on staging.</li>
<li>one gulp tasks would deploy image files to a CDN , in production environment : cloudinary and / or Optimole, the one that has</li>
<li>best would be that iamge CDNs support environment concept, in order to be able to have staging and production CDNs, and without relying on that, here is how i will implement that :
<ul>
<li>staging and production environment images will be deployed to Cloudinary and Optimole: for each image, it is deployed either to Optimole, or to Cloudinary</li>
<li>the same image, deployed to staging and production environments, changes only by the path to access the image. the change is made in the image file name using <code>${IMAGE_FILENAME}</code> for production,  <code>staging_${IMAGE_FILENAME}</code> for staging</li>
<li>problem there, is that production is always up :
<ul>
<li>we want to use as much as possible in the limits of any kind of plan: so we test that ability to manage not exceeding any given plan, using only free plans</li>
<li>our goal is to deploy a set of images, across multiple CDNs, to take advantage as much as possible from all free plans of a given service, relying on multiple service providers</li>
<li>Ok, so what will do constantly here is executing a gulp tasks which :
<ul>
<li>for each iamge file</li>
<li>upload the image file to one of the CDNs, based on a yaml configuration file <code>dogman.yaml</code></li>
<li></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>I naturally started looking for all image CDNs offering free plans, and among them I found <code>Cloudinary</code> : so did <code>Joshua TZ</code>, i think most fullstack developers / frontend devs who have worked in large websites projects, start by trying Cloudinary</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>All in all, in a scond episode of this article we will :</p>
<ul>
<li>Explain in detail ARchitecture at the center of all of this : Our TypeScript app lifecycle architecture, from source code to deployment</li>
<li>Explain what it is that front end dev don&rsquo;t understand :
<ul>
<li>building a Goglang executable for different target artchitectures</li>
<li>building a C language executable for different target artchitectures</li>
<li>building 2 C language executables and make use of an API : programming a simple plugin system in C Language, with an API concept</li>
<li>Building two Java applications to demonstrate programming a simple plugin system in C Language, with an API concept :
<ul>
<li>we wil also demonstrate invrersion of Control and Dynamic Polymorphism patterns</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>That will show what we actually mean by interface</p>
<h2 id="making-sense-of-your-tsconfigjson-typescript-configuration">Making sense of your <code>tsconfig.json</code> <code>TypeScript</code> configuration</h2>
<h3 id="dockie-tests-first">Dockie Tests First</h3>
<p>To counter check the whole <code>TypeScript</code> Setup, independently from my bare metal machine, I used a Docker image.</p>
<p>I used a Docke Alpine in which I installed the whole stack, starting with <code>nodejs</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;apk update &amp;&amp; apk add nodejs tree bash&#34;</span>
</span></span><span style="display:flex;"><span>docker run -itd --restart always --name testnode-alpine alpine /bin/sh
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;pwd &amp;&amp; ls -alh&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;apk update &amp;&amp; apk add nodejs &amp;&amp; apk add --update npm&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;node -v&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;npm --version&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;npx --version&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Now let&#39;s create the nodejs/typescript project :</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;mkdir ./my-ts-project/&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; npm init --yes&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; npm i --save-dev typescript @types/node&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># below, just to confirm tsc is NOT installed globally</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;echo &#39;just to confirm tsc is NOT installed globally&#39; &amp;&amp; which node &amp;&amp; which tsc &amp;&amp; tsc --version&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; npx tsc --version&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; npx tsc --init --rootDir src --outDir bin&#34;</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; tree -alh -L 3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; tree -alh -L 3&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># This is the fatest way to check the GNU Help of your tsc :</span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; touch ./tsc.compiler.help.txt &amp;&amp; npx tsc --help --all 2&amp;1&gt; ./tsc.compiler.help.txt&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; cat ./tsc.compiler.help.txt | grep -A5 noEmitHelpers&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; cat ./tsc.compiler.help.txt | grep -A5 noImplicitAny&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># --- Now I re-generate the whole project to run the build with gulp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># plan: i will generate a script file and execute it as shell script in container</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir ./src --outDir ./bin.gmented <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --target <span style="color:#e6db74">&#34;es2020&#34;</span> --module <span style="color:#e6db74">&#34;es2020&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --esModuleInterop true --resolveJsonModule true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npx tsc --init --rootDir ./src --outDir ./bin.gmented \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --target &#34;es2022&#34; --module &#34;es2022&#34; \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --esModuleInterop true --resolveJsonModule true</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span></code></pre></div><p>Note that at the time this test was executed, I had the following stdout outputs :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;node -v&#34;</span>
</span></span><span style="display:flex;"><span>v16.15.0
</span></span><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;npm --version&#34;</span>
</span></span><span style="display:flex;"><span>8.10.0
</span></span><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;npx --version&#34;</span>
</span></span><span style="display:flex;"><span>8.10.0
</span></span><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;echo &#39;just to confirm tsc is NOT installed globally&#39; &amp;&amp; which node &amp;&amp; which tsc &amp;&amp; tsc --version&#34;</span>
</span></span><span style="display:flex;"><span>just to confirm tsc is NOT installed globally
</span></span><span style="display:flex;"><span>/usr/bin/node
</span></span><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; npx tsc --version&#34;</span>
</span></span><span style="display:flex;"><span>Version 4.7.2
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>~$ docker exec -it testnode-alpine sh -c <span style="color:#e6db74">&#34;cd ./my-ts-project/ &amp;&amp; tree -alh -L 3&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  .
</span></span><span style="display:flex;"><span>├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  node_modules
</span></span><span style="display:flex;"><span>│   ├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  .bin
</span></span><span style="display:flex;"><span>│   │   ├── <span style="color:#f92672">[</span>  21<span style="color:#f92672">]</span>  tsc -&gt; ../typescript/bin/tsc
</span></span><span style="display:flex;"><span>│   │   └── <span style="color:#f92672">[</span>  26<span style="color:#f92672">]</span>  tsserver -&gt; ../typescript/bin/tsserver
</span></span><span style="display:flex;"><span>│   ├── <span style="color:#f92672">[</span> 823<span style="color:#f92672">]</span>  .package-lock.json
</span></span><span style="display:flex;"><span>│   ├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  @types
</span></span><span style="display:flex;"><span>│   │   └── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  node
</span></span><span style="display:flex;"><span>│   └── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  typescript
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>8.3K<span style="color:#f92672">]</span>  AUTHORS.md
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span> 333<span style="color:#f92672">]</span>  CODE_OF_CONDUCT.md
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span> 812<span style="color:#f92672">]</span>  CopyrightNotice.txt
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>9.0K<span style="color:#f92672">]</span>  LICENSE.txt
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>5.2K<span style="color:#f92672">]</span>  README.md
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>2.7K<span style="color:#f92672">]</span>  SECURITY.md
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span> 37K<span style="color:#f92672">]</span>  ThirdPartyNoticeText.txt
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  bin
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  lib
</span></span><span style="display:flex;"><span>│       ├── <span style="color:#f92672">[</span>4.0K<span style="color:#f92672">]</span>  loc
</span></span><span style="display:flex;"><span>│       └── <span style="color:#f92672">[</span>3.8K<span style="color:#f92672">]</span>  package.json
</span></span><span style="display:flex;"><span>├── <span style="color:#f92672">[</span>1.6K<span style="color:#f92672">]</span>  package-lock.json
</span></span><span style="display:flex;"><span>├── <span style="color:#f92672">[</span> 313<span style="color:#f92672">]</span>  package.json
</span></span><span style="display:flex;"><span>└── <span style="color:#f92672">[</span> 11K<span style="color:#f92672">]</span>  tsconfig.json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">8</span> directories, <span style="color:#ae81ff">14</span> files
</span></span></code></pre></div><h3 id="its-now-time-to-use-our-brain-the-tsconfigjson">It&rsquo;s now time to use our brain: the <code>tsconfig.json</code></h3>
<p>The <code>tsc</code> executable is the <code>TypeScript</code> compiler.</p>
<p>Any GNU Option of the <code>tsc</code> <code>TypeScript</code> compiler match a configuration option in the <code>tsconfig.json</code> file :</p>
<ul>
<li>For any <code>tsc</code> compiler Option, we can choose to specify the option value, either by using a GNU Option, or a configuration property in the <code>tsconfig.json</code>.</li>
<li>To execute the <code>tsc</code> compiler command with as little GNU Options as possible, the <code>tsc --init</code> will persist all compiler GNU Options in the <code>tsconfig.json</code> file.</li>
</ul>
<p>To generate the <code>tsconfig.json</code> of our <code>TypeScript</code> project, we are all used to run the <code>tsc --init</code> command.</p>
<p>The <code>tsc --init</code> command has numerous GNU Options, all of which allow to change the resulting content of the generated <code>tsconfig.json</code>. I will refer to those <code>tsc --init</code> command GNU Options, as <em><strong>the <code>TypeScript</code> configuration options</strong></em></p>
<p>For example if we execute the <code>TypeScript</code> compiler :</p>
<ul>
<li>without the <code>tsc --init</code> GNU Option command.</li>
<li>and with the <code>tsc --noEmit</code> GNU Options, we can compile the <code>TypeScript</code> code without generating the compiled <code>JavaScript</code> code:
<ul>
<li>So this useful for just checking that your source code compiles, without generating any file (makes the compilation checks faster)</li>
<li>Another interesting variant of the <code>tsc --noEmit</code> GNU Option, is the <code>tsc --noEmitOnError</code> GNU Option: If any compilatin Error, no files are generated</li>
</ul>
</li>
</ul>
<h4 id="achille">Achille</h4>
<blockquote>
<p><em><strong>Compiled or Interpreted</strong></em></p>
</blockquote>
<p>There are only 2 ways to execute a JavaScript Software on a given machine :</p>
<ul>
<li><strong>Compiled <code>JavaScript</code></strong> : Either we compile the JavaScript to machine native language, just like C language</li>
<li><strong>Interpreted <code>JavaScript</code></strong> : Or the JavaScript code is interpreted by a JavaScript Runtime, which turns the JavaScript code into the target machine native language. Those Runtimes are multiple, an,d may use techniques such as &ldquo;Just In Time&rdquo; transforamtions, which aim at optimizing the runtime performances.</li>
</ul>
<p>Today, a vast majority of the <code>JavaScript</code> softwares are executed as <strong>Interpreted <code>JavaScript</code></strong> : through a Runtime, that transform JavaScript into the target machine native language.</p>
<p>I just want to mention that there exists context where <strong>Compiled <code>JavaScript</code></strong> is absolutely awesome and extremely interesting. I have for example heard of people working in hardware reverse engineering, where the y use JavaScript to dump CPU data from JTAG (Awesome ! :D )</p>
<blockquote>
<p><em><strong>JavaScript Core</strong></em></p>
</blockquote>
<p>Right, now, realize this :</p>
<ul>
<li>Imagine you are writing a software, which drives a robot.</li>
<li>Iamgine that the programming language you are going to use, is called The <code>Achille</code> Languague (it&rsquo;s a hero language).</li>
<li>Imagine this robot has 2 arms and 2 legs.</li>
<li>What commands do you expect to find in this language?</li>
<li>Well of course, you would expect to find the commands to move each of the legs, and each of the arms, (together, or one after the other, all sorts of combiantions, etc&hellip;), right ?</li>
<li>I agree with you.</li>
</ul>
<p>Ok, so you loooove Robotics, that&rsquo;s why you learned the <code>Achille</code> Languague. It took you efforts, you spent hours, daays, weeks, months to get to be an expert in this language, didn&rsquo;t you ?</p>
<p>And now you want to develop a software to work with another robot :</p>
<ul>
<li>This new Robot does not have arms, neither does it have arms, but instead it has rockets to fly, and wheels to roll on a raod. Its name is <code>Bumblebee</code>.</li>
<li>Well, oh, the the <code>Achille</code> Languague, as you learned it, has commands to move arms and legs, but not to turn on/off rockets and tune its thrust power!</li>
<li>Ouch ! You have to make a pull request in the Github repo of the Achille languague, to that is is able to turn on rockets, and tune its rocket thrust, etc&hellip;!</li>
<li>What would such a PR look like ?</li>
<li>Of course, the PR would not submit Achille language :
<ul>
<li>It would submit Assembly languague, that can be executed into the <code>Bumblebee</code> CPU,</li>
<li>to be able to turn on/off rockets, and control the wheels and the wheels gaz engine, etc&hellip;</li>
</ul>
</li>
<li>The new version of the Achille Language :
<ul>
<li>has now new commmands, to control wheels , wheels engine, and rockets</li>
<li>and it still has the commands to move arms, and legs</li>
</ul>
</li>
<li>But hey, Why would I use an Achille compiler that can compile legs or arms commands, when i work on Bumblebee that has no legs and no arms ? It really is unuseful thing, and we are excellent engineers, we always get rid of anything unuseful.</li>
<li>Okay, so in the new version of Achille Language, i strip out the arm and legs commands.</li>
</ul>
<p>Okay, now, my point is:</p>
<ul>
<li>if you change enough the Robot, you may end up with changing completely, 100% of all the Achille Language,</li>
<li>So the 2 versions of the Achille language, have zero commands in comman, so they actually are 2 comletely different languages, (so Why call it the Achille Langguage at all, after all those changes ?)</li>
</ul>
<p>In the end, you may wonder: Hey, but what actually is the Achille Language ?</p>
<p>In all programming languages, there are two types of &ldquo;commands&rdquo; (actually called <em>words</em> and <em>sentences</em>, in the language theory) :</p>
<ul>
<li>the commands that are related to a specific hardware (like moving arms, legs, tturning rockets on/off etc&hellip;)</li>
<li>the commands that have nothing to do with any hardwar at all :
<ul>
<li>adding numbers does not depend at all on what hardware you run on, the operation has the exact same meaning and result, whatever the machine number representation is.</li>
<li>same about multiplying numbers</li>
<li>same about modus operations</li>
<li>same about boolean operations</li>
<li>same about quick sort algorithm (the quick sort algorithm is the same no matter the  hardware)</li>
<li>same about the <em>words</em> the Achiell Language uses to add a dependency used in my software</li>
<li>etc&hellip;</li>
</ul>
</li>
</ul>
<p>In other words, The part of the Achille Language which does not depend on the hardware, the <em>target Runtime</em>, where the software is going to be executed, is what actually what makes the Achielle Language. We could speak of the Achille <em>core</em> language.</p>
<p>This may seem a long explanation, but very worthy: What is the Java Script Language?</p>
<p>Since you are interested into JavaScrtipt, you do know that <code>JavaScript</code> Softwares are executed in a lot of different <em>target Runtimes</em> :</p>
<ul>
<li>browsers. And among browsers there are different JavaScript Runtimes indeed: they do execute the same code with different results)</li>
<li><code>nodejs</code>.</li>
<li>All of those Runtimes still execute code from the same language, <code>JavaScript</code>, and are all indeed JavaScript Runtimes, because :
<ul>
<li>they may execute the same <code>JavaScript</code> code with different result</li>
<li>but they do, and must, be able to execute the same JavaScript core language commands, even if the result may vary a little (otherwise you wopuld have to write completely different source cdoe for each browser, for example, and there would be no <code>JavaScript</code> at all).</li>
</ul>
</li>
</ul>
<p>In order to ensure that all <code>JavaScript</code> Runtime can all execute the same <code>JavaScript</code> core commands, the <code>JavaScript</code> Runtimes developers agreed on standardizing a part of their Runtime : That standardization gave a subset of the JavaScript Language, called EcmaScript.</p>
<p>Or said otherwise, if you write a pure <code>ECMAScript</code> software, it will be able to be executed by all <code>JavaScript</code> Runtimes.</p>
<ul>
<li><code>ECMAScript</code> is the JavaScript core language,</li>
<li><code>JavaScript</code> Runtimes all are supersets of an <code>ECAMScript</code> runtime, standardize by the ECMAScript standard. (consider ECMAScript as a theoritical JavaScript, that you may implement for any target hardware in, the future)</li>
<li><code>JavaScript</code> Runtimes differ from each other, only &ldquo;out of the <code>ECMAScript</code> scope&rdquo;</li>
</ul>
<!-- ![Achille ECMAScript](/images/posts/typescript/episode1/achille-ecmascript.drawio.svg) -->
<img class="img-fluid" src="/images/posts/typescript/episode1/achille-ecmascript.drawio.svg" alt="Making sense of your tsconfig.json - episode 1">
<p>Therefore, one extremely important choice to do (but  not the only one), when designing the <code>TypeScript</code> configuration of your project, is to determine what version of <code>ECMAScript</code> will be used in the target <code>JavaScript</code> Runtimes  of your app users.</p>
<p>Now, let&rsquo;s mention a few examples, about the part that makes the differences between different JavaScript Runtimes :</p>
<ul>
<li>A browser <code>JavaScript</code> Runtime will always include a &ldquo;DOM&rdquo; Library: that is not <code>ECMAScript</code>. For example, usually in <code>NodeJS</code> server side apps lke ExpressJS Apps, you do not have (and do not need) any DOM Library.</li>
<li>A modern Browser <code>JavaScript</code> Runtime will include a web worker library (for PWA web apps), But you will generally speaking not ever find or use a webworker library in a NodeJS server.</li>
<li>etc&hellip; etc&hellip;</li>
</ul>
<blockquote>
<p><em><strong>Architecture</strong></em></p>
</blockquote>
<p>Among the <code>TypeScript</code> configuration options that very often are really not clear there are :</p>
<ul>
<li>Some take in values like <code>es5</code>, <code>es6</code>, <code>es2017</code> (Wtfuss &hellip;?) :</li>
<li>Some take in a very well known value , aka <code>CommonJS</code> (Wtheck &hellip;?) :</li>
</ul>
<p>To fully configure our <code>TypeScript</code> Compiler, let&rsquo;s first have a look on the big Picture, considering only the case of an  <strong>Interpreted <code>JavaScript</code></strong> :</p>
<img class="img-fluid" src="/images/posts/typescript/episode1/definitive-typescript-configuration.drawio_.drawio.svg" alt="Making sense of your tsconfig.json - episode 1">
<!-- ![TypeScript Conifiguration Keep In Mind](/images/posts/typescript/episode1/definitive-typescript-configuration.drawio_.drawio.svg) -->
<p>The first one very important thing to always bear in mind, when developing your JavaScript application, is to determine what are the <code>JavaScript</code> Runtimes you want your app to run on : it will determine how many, and what users will be able to run your <code>JavaScript</code> software.</p>
<p>Another bunch of questions is very important to answer to :</p>
<ul>
<li>Will you compile your <code>JavaScript</code> source code, with the exact same <code>TypeScript</code> configuration for all your users target <code>JavaScript</code> Runtimes ?</li>
<li>For most <code>TypeScript</code> projects, the answer is yes:</li>
<li>But you may still use several different <code>TypeScript</code> configurations to compile the app differently for  different environments:
<ul>
<li>dev,</li>
<li>staging,</li>
<li>and production environments,</li>
<li>and that&rsquo;s complex enough, for you to be willing to use the same <code>TypeScript</code> configuration for all your target users JavaScript Runtimes.</li>
</ul>
</li>
</ul>
<p>Compiling a <code>TypeScript</code> source code results in a very simple delivery: you generate <code>JavaScript</code> files.</p>
<p>For the generated <code>JavaScript</code> code, we also want to determine what kind of modularization will be used :</p>
<ul>
<li>of course <code>TypeScript</code> Compilers generate modularized JavaSCript, because we always want modularization in any neat source code, both for debugging and also for runtime optimization</li>
<li>you may use <code>CommonJS</code> : this is not part of <code>ECMAScript</code></li>
<li>you may use <code>ES 7</code> : this is part of <code>ECMAScript</code></li>
<li>You may use <a href="https://requirejs.org/docs/whyamd.html"><code>AMD</code> modules</a> : and that&rsquo;s not <code>ECMAScript</code></li>
<li>etc&hellip;</li>
</ul>
<p>Making a choice about what kind of modularization you will use in your source code, is very important : If not part of <code>ECMAScript</code>, your users target Runtimes may not support executing your generated <code>JavaScript</code> code.</p>
<p>All in all :</p>
<ul>
<li>compiling is about generating and bundling together JavaScript files,</li>
<li>and all <code>TypeScript</code> options  are just configuring options about how the <code>JavaScript</code> code will be generated :
<ul>
<li>style,</li>
<li>will i use <code>require</code> of <code>import</code>, etc&hellip;</li>
</ul>
</li>
</ul>
<h4 id="dive-in-compiler-options-details">Dive in Compiler Options details</h4>
<p>Okay, so, now that we have our big picture in mind, here are the questions we want to answer to, in order to determine the exact configuration we want to use in our <code>TypeScript</code> project :</p>
<ul>
<li>Do I want to force using explicit typing everywhere ?
<ul>
<li>_Indeed, in <code>TypeScript</code>, if no type is explicitly defined for a given variable or method argument, the <code>Any</code> Type is implicitly assigned.</li>
<li>All other Types must be explicitly declared. <code>Any</code> is a bit like the <code>Object</code> Type in <code>Java</code>. We may like or not like this implicit typing. I do not like imlicit tping, I always like everything clear (that&rsquo;s why I use <code>TypeScript</code>, not <code>JavaScript</code>)._</li>
<li>That&rsquo;s why we will use the <code>--noImplicitAny true</code> GNU Option, so the TypeScript compiler forces all types to be explicitly declared ofr any variable / method argument</li>
</ul>
</li>
<li>Do I want to use non-EcmaScript libraries in my softwware ?:
<ul>
<li>Those non-<code>ECMAScript</code> dependencies could for example be the <code>DOM API</code> or a <code>WebWorker API</code> (for browsers for example)</li>
<li>If I do use non-<code>ECMAScript</code> dependencies in the source code of my <code>JavaScript</code> Software, then I ned the interfaces of those APIs, to compile my source code.</li>
<li>That&rsquo;s the purpose of the <code>--lib</code> GNU Option</li>
<li>we will set <code>--lib</code> to its default value <code>undefined</code> : so we will not use the <code>--lib</code> GNU Option</li>
<li>Note the libraries you can import using that <code>--lib</code> are exactly those installed when you <code>npm i --save-dev typescript</code>, that exactly is libraries made of type declarations from the <code>TypeScript</code> standard library (provided by the installation).</li>
</ul>
</li>
<li>What kind of <code>JavaScript</code> Modularization will use the generated code ? 5same question as )  What kind of <code>JavaScript</code> Modularization will be supported by the target <code>JavaScript</code> / <code>ECMAScript</code> Runtime ? (<code>AMD</code> modules / <code>ES</code> Modules / <code>CommonJS</code> Modules etc&hellip;) :
<ul>
<li><strong><code>--target</code></strong> : that option helps us specify what is commonly called <em>&ldquo;The <code>JavaScript</code> version&rdquo;</em>, but should be called  called <em>&ldquo;The <code>ECMAScript</code> version&rdquo;</em> :
<ul>
<li>that&rsquo;s the version of ECMAScript we want the compiler to use to generate JavaScript code.</li>
<li>So it won&rsquo;t necessarily spcify what kind of modularization will be used, but it never the less sets &ldquo;The JavaSCript core version&rdquo;</li>
<li>As this article is written, we are middle 2022, so i will use <code>--target &quot;es2020&quot;</code> : that, because TypeScript from 2021 is just one year old, can&rsquo;t speak too young, <code>2020</code> is old enough (to begin speaking, aka having a stable language a lot of people talk).</li>
</ul>
</li>
<li><strong><code>--moduleResolution </code></strong> :  That&rsquo;s about the type of modularization in the TypeScript code tyou write :
<ul>
<li>Specify how <code>TypeScript</code> looks up a file from a given module specifier.</li>
<li>one of: <code>classic</code>, <code>node</code>, <code>node16</code>, <code>nodenext</code></li>
<li>This option never the less is infered a value, from the value of the <code>--module</code> GNU Option :
<ul>
<li>less or more, the compiler considers you implicitly mean to use the same modularization technology fot bot the source of the compilation process (your <code>TypeScript</code> source code), and in the target of the compilation process (the generated <code>JavaScript</code>)</li>
<li>default: module === <code>AMD</code> or <code>UMD</code> or <code>System</code> or <code>ES6</code>, then <code>Classic</code>, Otherwise <code>Node</code></li>
</ul>
</li>
<li>That GNU Option was worth mentioning, even though we will not use it just let it take its implicitly infered from <code>--module</code> default value.</li>
<li>Actually after running a few tests on my configuration, i :
<ul>
<li>found out that to be able to compile the <code>TypeScript</code> source code in my <code>gulp.pokus.ts</code> Gulp File, and in particular to be able to use the <a href="https://www.npmjs.com/package/gulpclass"><code>gulpclass</code> <code>npm</code> package</a>, i must use the <code>--moduleResolution node</code> GNU Option of the <code>TypeScript</code> compiler.</li>
</ul>
</li>
</ul>
</li>
<li><strong><code>--module</code></strong> : That&rsquo;s about the type of modularization in the generated <code>JavaScript</code> code. That option helps us specify what modularization type is used when compîler generates JavaScript :
<ul>
<li>main options are <code>none, commonjs, amd, umd, system, es6/es2015, es2020, es2022, esnext, node16, nodenext</code></li>
<li>we will choose <code>--module &quot;es2020&quot;</code>, and we will use the <code>--esModuleInterop</code>  to ease importing requirejs modules</li>
</ul>
</li>
<li><strong><code>--resolveJsonModule true</code></strong> : We use that option to enable importing <code>.json</code> files (like configuration files <code>import configuration from './path/to/my/configurationFile.json'</code>).</li>
<li><strong><code>--rootDir</code> and <code>--outDir</code></strong> GNU Options are here :
<ul>
<li>to specify in which folder the soruce code to compile resides,</li>
<li>to specify the path to the folder in which will the compiler put the generated <code>JavaScript</code> Files.</li>
<li>we will use <code> --rootDir ./src --outDir ./bin.gmented</code></li>
</ul>
</li>
<li>We will <strong><code>--allowJs true --checkJS true</code></strong> to allow <code>JavaScript</code> files to be a part of our program. In addition, we use the &lsquo;&ndash;checkJS&rsquo; option to get errors from these files.</li>
<li>We will use the <code>--strict</code> option to set all strict options to true, and we will also use the <code>--alwaysStrict</code> GNU Option to ensure &lsquo;use strict&rsquo; is always emitted in all the generated <code>JavaScript</code> files.</li>
<li>There are some other options which are interesting for building a production ready build, among which :
<ul>
<li>Using the <code>--noEmitHelpers</code> option guarantees that the <code>TypeScript</code> compiler does not inject any <em>&ldquo;TypeScript compiler Helpers&rdquo;</em> in the generated source code. That can drastically reduce the size of the generated <code>JavaScript</code>. About that an execlellent article by <strong>Marius Schulz</strong> : <a href="https://mariusschulz.com/blog/external-helpers-library-in-typescript">What are TypeScript compiler Helpers</a></li>
<li>Using the <code>--removeComments</code> option removes all comments from the generated <code>JavaScript</code></li>
<li>An example of <a href="https://docs.adonisjs.com/guides/typescript-build-process#standalone-production-builds">a production build according a framework vendor like <code>Adonis</code></a> shows the main steps of whta they mean is a production build for a TypeEscipt application :
<ul>
<li>Clean the existing build directory (if any).</li>
<li>Build your software&rsquo;s static assets :
<ul>
<li>If the software is a frontend app : Build your frontend assets.</li>
<li>If the software is a Nodejs executable, well it still may use static assets like a CLI would:
<ul>
<li>like in the logs,</li>
<li>or even logos in the OS where the executable is running</li>
<li>so here this task is about building static assets (images, mp4 videos, mp3 sounds) :
<ul>
<li>normalize static assets sizes: for example for images, the images could be resized into multiple sizes formats, for responsiveness</li>
<li>compress static assets :
<ul>
<li>image files (i have a lot of gulp examples too)</li>
<li>compress <code>mp3</code> files</li>
<li>compress <code>mp4</code> files <a href="https://gist.github.com/lukehedger/277d136f68b028e22bed">example using <code>ffmpeg</code></a> (<code>ffmpeg</code> probably will help with <code>mp3</code> too) see also <a href="https://github.com/psirenny/gulp-fluent-ffmpeg">https://github.com/psirenny/gulp-fluent-ffmpeg</a></li>
</ul>
</li>
<li>apply transformations on static assets :
<ul>
<li>it might be special effects</li>
<li>like blurring pictures, or transforma a voice of a sound,</li>
</ul>
</li>
<li>That&rsquo;s all Build your software static assets.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Use the <code>TypeScript</code> compiler to:
<ul>
<li>Compile the <code>TypeScript</code> code to <code>JavaScript</code></li>
<li>And write it inside the build folder.</li>
<li>This time, we do perform type checking and report the <code>TypeScript</code> errors.</li>
<li>So we will use all verbose options etc&hellip;, strict options for JavaScript etc..</li>
</ul>
</li>
<li>Copy all the static files to the build folder. The static files are registered to the software using them using configuration files at runtime.</li>
<li>Copy the <code>package.json</code> and <code>package-lock.json</code>/<code>yarn.lock</code> to the build folder.</li>
<li>Generate manifest file(s) in the build folder : depending ont he technolgies used, thess files generally contain meta-data about the package that&rsquo;s being built. Like Release Notes, Supported runtime list, Git commit ID, link to Release Notes, etc&hellip;</li>
</ul>
</li>
<li>Then, to be able to use <code>TypeScript</code> language in the <code>gulp.pokus.ts</code> <code>gulpfile</code> itself,  I have to Use the <code>--experimentalDecorators</code> GNU Option of the <code>TypeScript</code> compiler :
<ul>
<li>to enable experimental support for TC39 stage 2 draft decorators.</li>
<li>That, for Otherwise the <code>GulpClass</code> type will not compile.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>All in all, this gives us the following tsc command to generate our donfiguration :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir ./src --outDir ./bin.gmented <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --target <span style="color:#e6db74">&#34;es2020&#34;</span> --module <span style="color:#e6db74">&#34;es2020&#34;</span> <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --esModuleInterop true --resolveJsonModule true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npx tsc --init --rootDir ./src --outDir ./bin.gmented \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --target &#34;es2022&#34; --module &#34;es2022&#34; \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true \</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#   --esModuleInterop true --resolveJsonModule true</span>
</span></span></code></pre></div><h2 id="annex-a--tsc---init-reference-examples">ANNEX A : <code>tsc --init</code> Reference Examples</h2>
<ul>
<li>First example :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>npx tsc --init --rootDir src --outDir build <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --esModuleInterop --resolveJsonModule --lib es6 <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --module commonjs --allowJs true --noImplicitAny true
</span></span></code></pre></div><ul>
<li>Second example from <a href="https://gist.github.com/jacobrastad/4d73b5cd7334d7b99e67950deb15731d#create-project-structure">here</a> :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>tsc --init --rootDir src --outDir build <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --target es2020 --lib ES2019 --esModuleInterop <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --resolveJsonModule --module commonjs <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --allowJs true --noImplicitAny true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>   --sourceMap true
</span></span></code></pre></div><ul>
<li>Third example from <a href="https://gist.github.com/mkuchak/fb02b6e772503e345733bb68de68e944#starting-with-typescript-on-new-project">here</a> :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ---</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># In this example, you can see the engineer uses the [--lib] to work with browsers dom</span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir ./ --baseUrl ./ --outDir ./dist <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --strictNullChecks false --esModuleInterop --resolveJsonModule <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --lib <span style="color:#e6db74">&#34;esnext,dom&#34;</span> --module commonjs --allowJs --sourceMap <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --removeComments --experimentalDecorators --emitDecoratorMetadata <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --typeRoots <span style="color:#e6db74">&#34;./node_modules/@types,./src/@types&#34;</span>
</span></span></code></pre></div><h2 id="annex-b--_what-version-of-ecmascript-exist-_">ANNEX B : <em><strong>What Version of <code>EcmaScript</code> exist ?</strong></em></h2>
<p>For the record, here are all the versions of TypeScript available from <code>2015</code> to <code>2022</code> :</p>
<table>
<thead>
<tr>
<th></th>
<th>Short</th>
<th>Long</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><code>ES6</code></td>
<td><code>ES2015</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES7</code></td>
<td><code>ES2016</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES8</code></td>
<td><code>ES2017</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES9</code></td>
<td><code>ES2018</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES10</code></td>
<td><code>ES2019</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES11</code></td>
<td><code>ES2020</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES12</code></td>
<td><code>ES2021</code></td>
<td></td>
<td></td>
</tr>
<tr>
<td></td>
<td><code>ES13</code></td>
<td><code>ES2022</code></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>Now, which will i choose ?</p>
<p>For any software, my choice would go for the latest stable.</p>
<p>Now, here are reference articles where the question &ldquo;What version of <code>ECMAScript</code> should I use in a <code>TypeScript</code> Project (-in my <code>TypeScript</code> [<code>tsconfig.json</code>] configuration) ?&rdquo;</p>
<ul>
<li><a href="https://www.meziantou.net/which-version-of-ecmascript-should-i-use-in-the-typescript-configuration.htm">https://www.meziantou.net/which-version-of-ecmascript-should-i-use-in-the-typescript-configuration.htm</a></li>
</ul>
<p>Ok, so in Short, and this is a very important thing to understand about a <code>TypeScript</code> Project :</p>
<ul>
<li>
<p><code>JavaScript</code> will always be executed by an <code>ECMAScript</code> Engine. Ok</p>
</li>
<li>
<p>So, if I work with a <code>TypeScript</code> poject, I will have 2 things to take in consideration :</p>
<ul>
<li>What is the target execution environment ? (In particular, I may want my software to execute into several different &ldquo;target environments&rdquo;, example several browsers, right?)</li>
<li>The <code>TypeScript</code> Compiler that I use, will have debugging capabilities, and the higher version of the <code>TypeScript</code> Compiler I use, the best features I will have in debugging mode, ok ?</li>
</ul>
</li>
<li>
<p>All in all, We may assume that <code>ECMASCript</code> ensures Ascending compatibilty, with of course limitations  :</p>
<ul>
<li><code>ECMAScript</code> first version cannot be guaranteed to &ldquo;iso&rdquo; execute (with exact same results) in all future versions of EcmaScript Engines, forever, that wxould be stupid  :
<ul>
<li>breaking changes must happen to ensure the ability of <code>EcmaScript</code> to welcome major innovations</li>
<li>to welcome major innovations : means to have the ability to leap up to new major concepts,</li>
<li>and of Course we want ECMAScript to be enhanced with new major innovations in the Future,</li>
<li>So it is pretty sure that <code>ECMAScript</code> must have beaking changes to be enhanced with major tehcnlogical innovations</li>
<li></li>
</ul>
</li>
<li>so we may assume <code>ECMAScript</code> guarantees ascending compatibilty for the last 10 years for example )</li>
</ul>
</li>
<li>
<p>So, all in all,  i will here consider 2 main use cases :</p>
<ul>
<li>use case 1 : My Software will be executed in users browser</li>
<li>use case 2 : My software will be executed in NodeJS</li>
</ul>
</li>
</ul>
<h2 id="annex-c--general-build-process">ANNEX C : General Build process</h2>
<p>When we think about what should be the different phases of a production build for a <code>TypeScript</code> developed software, we naturally have a look at proved <code>TypeScript</code> frameworks notes on that topic.</p>
<p>I here chose rather randomly the example of one of them called <code>Adonis</code>.</p>
<p>An example of <a href="https://docs.adonisjs.com/guides/typescript-build-process#standalone-production-builds">a production build according a framework vendor like <code>Adonis</code></a> shows the main steps of whta they mean is a production build for a TypeEscipt application :</p>
<ul>
<li>Clean the existing build directory (if any).</li>
<li>Build your software&rsquo;s static assets :
<ul>
<li>If the software is a frontend app : Build your frontend assets.</li>
<li>If the software is a Nodejs executable, well it still may use static assets like a CLI would:
<ul>
<li>like in the logs,</li>
<li>or even logos in the OS where the executable is running</li>
<li>so here this task is about building static assets (images, mp4 videos, mp3 sounds) :
<ul>
<li>normalize static assets sizes: for example for images, the images could be resized into multiple sizes formats, for responsiveness</li>
<li>compress static assets :
<ul>
<li>image files (i have a lot of gulp examples too)</li>
<li>compress <code>mp3</code> files</li>
<li>compress <code>mp4</code> files <a href="https://gist.github.com/lukehedger/277d136f68b028e22bed">example using <code>ffmpeg</code></a> (<code>ffmpeg</code> probably will help with <code>mp3</code> too) see also <a href="https://github.com/psirenny/gulp-fluent-ffmpeg">https://github.com/psirenny/gulp-fluent-ffmpeg</a></li>
</ul>
</li>
<li>apply transformations on static assets :
<ul>
<li>it might be special effects</li>
<li>like blurring pictures, or transforma a voice of a sound,</li>
</ul>
</li>
<li>That&rsquo;s all Build your software static assets.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Use the <code>TypeScript</code> compiler API to:
<ul>
<li>Compile the <code>TypeScript</code> code to <code>JavaScript</code></li>
<li>And write it inside the build folder.</li>
<li>This time, we do perform type checking and report the <code>TypeScript</code> errors.</li>
<li>So we will use all verbose options etc&hellip;, strict options for JavaScript etc..</li>
</ul>
</li>
<li>Copy all the static files to the build folder. The static files are registered to the software using them using configuration files at runtime.</li>
<li>Copy the <code>package.json</code> and <code>package-lock.json</code>/<code>yarn.lock</code> to the build folder.</li>
<li>Generate manifest file in the build folder : depending ont he tehcnolgy used, this file generally contains meta data about the package that&rsquo;s being built. Like Release Notes, Supported runtime list, Git commit ID, link to Release Notes, etc&hellip;</li>
</ul>
<p>All in all, the above list :</p>
<ul>
<li>is derived from what the Adonis framework documents</li>
<li>describes the build process also for non front end applications like servers or CLI in NodeJS TypeScript.</li>
</ul>
<p>With that build process in mind, we see that the build process of the <code>npx-hugo-gmented</code> package will require using other tyools thant the <code>TypsCript</code> compiler, namely <code>tsc</code>.</p>
<p>We will use <code>gulp</code>, using <code>TypeScript</code> with a <code>gulpfile.ts</code> configuration file :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>touch ./gulpfile.js
</span></span><span style="display:flex;"><span>touch ./gulp.pokus.ts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat <span style="color:#e6db74">&lt;&lt;EOF&gt;./gulp.pokus.ts
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">import {Gulpclass, Task} from &#34;gulpclass/Decorators&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">let gulp = require(&#34;gulp&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">let del = require(&#34;del&#34;);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">@Gulpclass()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">export class Gulpfile {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   @Task()
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   clean(cb: Function) {
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       return del([&#34;./dist/**&#34;], cb);
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">   }
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">}
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat <span style="color:#e6db74">&lt;&lt;EOF&gt;./gulpfile.js
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">eval(require(&#34;typescript&#34;).transpile(require(&#34;fs&#34;).readFileSync(&#34;./gulp.pokus.ts&#34;).toString()));
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export TS_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;4.7.2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev typescript</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev typescript</span>
</span></span><span style="display:flex;"><span>npm i --save-dev typescript@^<span style="color:#e6db74">${</span>TS_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export TS_NODE_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;10.8.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev ts-node</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev ts-node</span>
</span></span><span style="display:flex;"><span>npm i --save-dev ts-node@^<span style="color:#e6db74">${</span>TS_NODE_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export GULP_CLASS_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.2.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev gulpclass</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev gulpclass</span>
</span></span><span style="display:flex;"><span>npm i --save-dev gulpclass@^<span style="color:#e6db74">${</span>GULP_CLASS_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export DEL_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;6.1.1&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev dev</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev dev</span>
</span></span><span style="display:flex;"><span>npm i --save-dev dev@^<span style="color:#e6db74">${</span>DEL_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export DEL_TYPESDEF_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>DEL_TYPESDEF_VERSION<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;4.0.0&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev @types/del</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev @types/del</span>
</span></span><span style="display:flex;"><span>npm i --save-dev @types/del@^<span style="color:#e6db74">${</span>DEL_TYPESDEF_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># GULP #  -  #  - # $ gulp --version</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># GULP #  -  #  - # CLI version: 2.3.0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># GULP #  -  #  - # Local version: 4.0.2</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #   GULP CLI</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export GULP_CLI_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;2.3.0&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # npm uninstall --global gulp-cli@^${GULP_VERSION}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm install --global gulp-cli</span>
</span></span><span style="display:flex;"><span>npm i --global gulp-cli@^<span style="color:#e6db74">${</span>GULP_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #  GULP</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span>export GULP_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;4.0.2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev gulp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev gulp</span>
</span></span><span style="display:flex;"><span>npm i --save-dev gulp@^<span style="color:#e6db74">${</span>GULP_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export GULP_TYPESDEF_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GULP_TYPESDEF_VERSION<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;4.0.9&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev @types/gulp</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev @types/gulp</span>
</span></span><span style="display:flex;"><span>npm i --save-dev @types/gulp@^<span style="color:#e6db74">${</span>GULP_TYPESDEF_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;# --------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;check Gulp installed version : &#34;</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;# --------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>gulp --version
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;# --------------------------------&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #  GULP-UTIL</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # + # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>export GULP_UTIL_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GULP_UTIL_VERSION<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;3.0.8&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev gulp-util</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev gulp-util</span>
</span></span><span style="display:flex;"><span>npm i --save-dev gulp-util@^<span style="color:#e6db74">${</span>GULP_UTIL_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export GULP_UTIL_TYPESDEF_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GULP_UTIL_TYPESDEF_VERSION<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;3.0.36&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev @types/gulp-util</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev @types/gulp-util</span>
</span></span><span style="display:flex;"><span>npm i --save-dev @types/gulp-util@^<span style="color:#e6db74">${</span>GULP_UTIL_TYPESDEF_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># GULPLOG</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># we must drop gulp util, because of https://medium.com/gulpjs/gulp-util-ca3b1f9f9ac5</span>
</span></span><span style="display:flex;"><span>npm uninstall --save-dev gulp-util
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export GULPLOG_VERSION<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>GULPLOG_VERSION<span style="color:#66d9ef">:-</span><span style="color:#e6db74">&#34;1.0.0&#34;</span><span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># npm uninstall --save-dev gulplog</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># # - # # npm i --save-dev gulplog</span>
</span></span><span style="display:flex;"><span>npm i --save-dev gulplog@^<span style="color:#e6db74">${</span>GULPLOG_VERSION<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># But I didn,t like Gulpolg, i turned back to gulp-util so</span>
</span></span><span style="display:flex;"><span>npm uninstall --save-dev gulplog
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --                TSC  INIT        #  -  #  - #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#  --  #  -  #  - # #  #  #  #  #  #  #  #  #  # #</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>mkdir -p ./bin.gmented
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir ./src --outDir ./bin.gmented <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --target <span style="color:#e6db74">&#34;es2020&#34;</span> --module <span style="color:#e6db74">&#34;es2020&#34;</span> --moduleResolution node <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --esModuleInterop true --resolveJsonModule true
</span></span></code></pre></div><ul>
<li>
<p>Then, to be able to use <code>TypeScript</code> language in the <code>gulp.pokus.ts</code> <code>gulpfile</code> itself,  I have to :</p>
<ul>
<li>Use the <code>--experimentalDecorators</code> GNU Option of the <code>TypeScript</code> compiler, to enable experimental support for TC39 stage 2 draft decorators. That, for Otherwise the <code>GulpClass</code> type will not compile.</li>
<li>Use the <code>--moduleResolution node</code> GNU Option for typescript modules to be corectly imported for <code>gulp.pokus.ts</code> compilation. I am using ES2020 as for both &ndash;module and &ndash;target options, so this means by default this value should be &ldquo;classic&rdquo;, right</li>
</ul>
</li>
<li>
<p>Now for compiling the bulpfile.ts to gulpfile.js and then execute the gulpfile, i need a different typescript compiler configuration file, namely <code>tsconfig.gulp.json</code> :</p>
<ul>
<li>&ldquo;rootDir&rdquo;: &ldquo;./.gulp/src&rdquo;,</li>
<li>&ldquo;outDir&rdquo;: &ldquo;./.gulp/bin&rdquo;,</li>
<li>SO I will compile all files from the <code>./.gulp/src</code> and put the generated JavaScript Files into the <code>./.gulp/bin</code> folder, and then execute the resulting <code>./.gulp/bin/gulpfile.js</code> file. Iwill certaainly compile all typescript into one single <code>./.gulp/bin/gulpfile.js</code></li>
</ul>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir -p ./.gulp/src/
</span></span><span style="display:flex;"><span>mkdir -p ./.gulp/bin/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>touch ./.gulp/src/gulpfile.ts
</span></span><span style="display:flex;"><span>touch ./.gulp/src/gulp.pokus.ts
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>touch ./.gulp/bin/gulpfile.js
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cp tsconfig.json tsconfig.tmp.json
</span></span><span style="display:flex;"><span>rm tsconfig.json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>npx tsc --init --rootDir ./.gulp/src --outFile ./.gulp/bin/gulpfile.js <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --target <span style="color:#e6db74">&#34;es2020&#34;</span> --module <span style="color:#e6db74">&#34;es2020&#34;</span> --moduleResolution node <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --strict true --alwaysStrict true --allowJs true --noImplicitAny true --experimentalDecorators true <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --esModuleInterop true --resolveJsonModule true
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cp tsconfig.json tsconfig.gulp.json
</span></span><span style="display:flex;"><span>rm tsconfig.json
</span></span><span style="display:flex;"><span>cp tsconfig.tmp.json tsconfig.json
</span></span><span style="display:flex;"><span>rm tsconfig.tmp.json
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tsc -p tsconfig.gulp.json
</span></span></code></pre></div><p>Note those GNU Option &rsquo;s <code>--help</code> documentation :</p>
<blockquote>
<p>&ndash;project, -p
Compile the project given the path to its configuration file, or to a folder with a &rsquo;tsconfig.json&rsquo;.</p>
</blockquote>
<p>################# HERE I MUST COTINUE work</p>
<p>For that i must finish testing all infos in <a href="https://medium.com/@pleerock/create-a-gulpfile-and-write-gulp-tasks-using-typescript-f08edebcac57">https://medium.com/@pleerock/create-a-gulpfile-and-write-gulp-tasks-using-typescript-f08edebcac57</a></p>
<p>And draw my own conclusions with the <code>npx-hugo-gmented</code> npm package</p>
<h2 id="annex-d--about-the-alpine-image-i-used-for-the-containerized-tests">ANNEX D : About the alpine image I used for the Containerized tests</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~$ docker images
</span></span><span style="display:flex;"><span>REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
</span></span><span style="display:flex;"><span>alpine              latest              e66264b98777        <span style="color:#ae81ff">3</span> days ago          5.53MB
</span></span><span style="display:flex;"><span>alpine              &lt;none&gt;              d4ff818577bc        <span style="color:#ae81ff">11</span> months ago       5.6MB
</span></span></code></pre></div><p>Also note :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo lsb_release -a
</span></span><span style="display:flex;"><span>docker version
</span></span></code></pre></div><ul>
<li>Gives :</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>~$ sudo lsb_release -a
</span></span><span style="display:flex;"><span>No LSB modules are available.
</span></span><span style="display:flex;"><span>Distributor ID:	Debian
</span></span><span style="display:flex;"><span>Description:	Debian GNU/Linux 9.12 <span style="color:#f92672">(</span>stretch<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>Release:	9.12
</span></span><span style="display:flex;"><span>Codename:	stretch
</span></span><span style="display:flex;"><span>~$
</span></span><span style="display:flex;"><span>~$ docker version
</span></span><span style="display:flex;"><span>Client: Docker Engine - Community
</span></span><span style="display:flex;"><span> Version:           19.03.6
</span></span><span style="display:flex;"><span> API version:       1.40
</span></span><span style="display:flex;"><span> Go version:        go1.12.16
</span></span><span style="display:flex;"><span> Git commit:        369ce74a3c
</span></span><span style="display:flex;"><span> Built:             Thu Feb <span style="color:#ae81ff">13</span> 01:27:59 <span style="color:#ae81ff">2020</span>
</span></span><span style="display:flex;"><span> OS/Arch:           linux/amd64
</span></span><span style="display:flex;"><span> Experimental:      false
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Server: Docker Engine - Community
</span></span><span style="display:flex;"><span> Engine:
</span></span><span style="display:flex;"><span>  Version:          19.03.6
</span></span><span style="display:flex;"><span>  API version:      1.40 <span style="color:#f92672">(</span>minimum version 1.12<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>  Go version:       go1.12.16
</span></span><span style="display:flex;"><span>  Git commit:       369ce74a3c
</span></span><span style="display:flex;"><span>  Built:            Thu Feb <span style="color:#ae81ff">13</span> 01:26:33 <span style="color:#ae81ff">2020</span>
</span></span><span style="display:flex;"><span>  OS/Arch:          linux/amd64
</span></span><span style="display:flex;"><span>  Experimental:     false
</span></span><span style="display:flex;"><span> containerd:
</span></span><span style="display:flex;"><span>  Version:          1.2.12
</span></span><span style="display:flex;"><span>  GitCommit:        35bd7a5f69c13e1563af8a93431411cd9ecf5021
</span></span><span style="display:flex;"><span> runc:
</span></span><span style="display:flex;"><span>  Version:          1.0.0-rc10
</span></span><span style="display:flex;"><span>  GitCommit:        dc9208a3303feef5b3839f4323d9beb36df0a9dd
</span></span><span style="display:flex;"><span> docker-init:
</span></span><span style="display:flex;"><span>  Version:          0.18.0
</span></span><span style="display:flex;"><span>  GitCommit:        fec3683
</span></span></code></pre></div><h2 id="annex-e--example-tsc-options-gnu-docs">ANNEX E : Example <code>tsc</code> Options GNU Docs</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--target, -t
</span></span><span style="display:flex;"><span>Set the JavaScript language version <span style="color:#66d9ef">for</span> emitted JavaScript and include compatible library declarations.
</span></span><span style="display:flex;"><span>one of: es3, es5, es6/es2015, es2016, es2017, es2018, es2019, es2020, es2021, es2022, esnext
</span></span><span style="display:flex;"><span>default: es3
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--lib
</span></span><span style="display:flex;"><span>Specify a set of bundled library declaration files that describe the target runtime environment.
</span></span><span style="display:flex;"><span>one or more: es5, es6/es2015, es7/es2016, es2017, es2018, es2019, es2020, es2021, es2022, esnext, dom, dom.iterable, webworker, webworker.importscripts, webworker.iterable, scripthost, es2015.core, es2015.collection, es2015.generator, es2015.iterable, es2015.promise, es2015.proxy, es2015.reflect, es2015.symbol, es2015.symbol.wellknown, es2016.array.include, es2017.object, es2017.sharedmemory, es2017.string, es2017.intl, es2017.typedarrays, es2018.asyncgenerator, es2018.asynciterable/esnext.asynciterable, es2018.intl, es2018.promise, es2018.regexp, es2019.array, es2019.object, es2019.string, es2019.symbol/esnext.symbol, es2020.bigint/esnext.bigint, es2020.date, es2020.promise, es2020.sharedmemory, es2020.string, es2020.symbol.wellknown, es2020.intl, es2020.number, es2021.promise/esnext.promise, es2021.string, es2021.weakref/esnext.weakref, es2021.intl, es2022.array/esnext.array, es2022.error, es2022.intl, es2022.object, es2022.string/esnext.string, esnext.intl
</span></span><span style="display:flex;"><span>default: undefined
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--noLib
</span></span><span style="display:flex;"><span>Disable including any library files, including the default lib.d.ts.
</span></span><span style="display:flex;"><span>type: boolean
</span></span><span style="display:flex;"><span>default: false
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--module, -m
</span></span><span style="display:flex;"><span>Specify what module code is generated.
</span></span><span style="display:flex;"><span>one of: none, commonjs, amd, umd, system, es6/es2015, es2020, es2022, esnext, node16, nodenext
</span></span><span style="display:flex;"><span>default: undefined
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--esModuleInterop
</span></span><span style="display:flex;"><span>Emit additional JavaScript to ease support <span style="color:#66d9ef">for</span> importing CommonJS modules. This enables <span style="color:#e6db74">&#39;allowSyntheticDefaultImports&#39;</span> <span style="color:#66d9ef">for</span> type compatibility.
</span></span><span style="display:flex;"><span>type: boolean
</span></span><span style="display:flex;"><span>default: false
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>--resolveJsonModule
</span></span><span style="display:flex;"><span>Enable importing .json files.
</span></span><span style="display:flex;"><span>type: boolean
</span></span><span style="display:flex;"><span>default: false
</span></span></code></pre></div><h2 id="more-typescript--class-interfaces-and-design-patterns">More <code>TypeScript</code> : class interfaces and design patterns</h2>
<p>A few references :</p>
<ul>
<li><a href="https://www.typescriptlang.org/docs/handbook/classes.html">https://www.typescriptlang.org/docs/handbook/classes.html</a></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/interfaces.html">https://www.typescriptlang.org/docs/handbook/interfaces.html</a></li>
</ul>
<h2 id="building-my-own-cdn">Building my own CDN</h2>
<p>What if i built my self  a cdn ? Is there any meaning about a CDN deployed on one single machine ?</p>
<ul>
<li>About KubeCDN (not usable in production, no support, but helps understanding multi regions deployments) : <a href="https://blog.insightdatascience.com/how-to-build-your-own-cdn-with-kubernetes-5cab00d5c258">https://blog.insightdatascience.com/how-to-build-your-own-cdn-with-kubernetes-5cab00d5c258</a></li>
<li>About another design using varnish : <a href="https://dzone.com/articles/build-your-own-cdn-in-5-steps">https://dzone.com/articles/build-your-own-cdn-in-5-steps</a></li>
<li><a href="https://dev.to/megajakob/how-to-build-your-own-cdn-io1">https://dev.to/megajakob/how-to-build-your-own-cdn-io1</a></li>
<li>What i wanna learn to terraform :
<ul>
<li>geoDNS</li>
<li>load balancing between geoDNS regions</li>
<li>load balancing between different cloud provider regions</li>
<li>start a deep dive into networking, <code>BGP</code> / <code>IGP</code>, <code>vxlan</code> and <code>vlan</code></li>
<li>how coudl i terraform and operate networks with pokusbox cloud provider</li>
</ul>
</li>
</ul>
<p>A first goal for me is to setup somehing that can act as CDN loally on the developers machine (I will set 2 docker compose on same ip address):</p>
<ul>
<li>Since CDN is alot about DNS GeoDNS, laodbalancing between cloud provider regions (cloudflare is so perfect for all of this),</li>
<li>well all i need is a server that will quickly deliver static files maybe with  caching capabilities</li>
<li>So i will try those approaches :
<ul>
<li>always a docker compose :
<ul>
<li>one service for reverse proxy, with caching capabilities, and i want only the images, not other urls, to be cached :
<ul>
<li>caddy:
<ul>
<li>i would like maybe caddy reverse proxy, it has cache plugin</li>
<li><a href="https://caddy.community/t/state-of-http-caching-in-caddy-2/11564/3">https://caddy.community/t/state-of-http-caching-in-caddy-2/11564/3</a></li>
<li>the cache plugin to use with caddy : <a href="https://github.com/caddyserver/cache-handler">https://github.com/caddyserver/cache-handler</a></li>
</ul>
</li>
<li>varnish:
<ul>
<li>cccc</li>
</ul>
</li>
<li>nginx:
<ul>
<li><a href="https://github.com/djmaze/docker-caching-proxy">https://github.com/djmaze/docker-caching-proxy</a></li>
</ul>
</li>
</ul>
</li>
<li>i want only images to be cached:
<ul>
<li>so the docker-compose for the website will be different than the docker-compose for the CDN,</li>
<li>i might even need different ip addresses (not sure at least two different docker compose to use completely different reverse proxy settings for website and cdn)</li>
<li>Static Website deployment : I want caddy reverse proxy (built from golang source code) for website deployement</li>
<li>CDN deployment : i will probably have to use minio or directus with NGINX set for caching</li>
</ul>
</li>
<li>static asets delivery :
<ul>
<li>S3 bucket minio</li>
<li>or Directus cms cdn capabilitis</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="references">References</h2>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/setting-up-a-node-project-with-typescript">https://www.digitalocean.com/community/tutorials/setting-up-a-node-project-with-typescript</a></li>
<li><a href="https://www.typescriptlang.org/">https://www.typescriptlang.org/</a></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/typescript-tooling-in-5-minutes.html">https://www.typescriptlang.org/docs/handbook/typescript-tooling-in-5-minutes.html</a></li>
<li><a href="https://www.typescriptlang.org/download">https://www.typescriptlang.org/download</a> : recommandations to have a typesript setup as per project, instead of globally (best practice to version control the stack)</li>
<li><a href="https://formationjavascript.com/versions-de-javascript-histoire-et-futur/">https://formationjavascript.com/versions-de-javascript-histoire-et-futur/</a> (just to make it clear what version of EcmaScript I wanna use)</li>
<li>About <code>CommonJS</code> :
<ul>
<li><a href="https://en.wikipedia.org/wiki/CommonJS">https://en.wikipedia.org/wiki/CommonJS</a></li>
<li><a href="https://medium.com/@cgcrutch18/commonjs-what-why-and-how-64ed9f31aa46">https://medium.com/@cgcrutch18/commonjs-what-why-and-how-64ed9f31aa46</a></li>
</ul>
</li>
<li><a href="https://medium.com/jspoint/typescript-compiler-flags-3b1efebedf15">https://medium.com/jspoint/typescript-compiler-flags-3b1efebedf15</a></li>
<li><a href="https://blog.logrocket.com/exploring-advanced-compiler-options-typescript/">https://blog.logrocket.com/exploring-advanced-compiler-options-typescript/</a></li>
<li>About approaches to typescript compilation (or so called &ldquo;transpilation&rdquo;) :
<ul>
<li><a href="https://docs.adonisjs.com/guides/typescript-build-process">https://docs.adonisjs.com/guides/typescript-build-process</a> :  very interesting how they think like me, no compiler except <code>tsc</code> it self, only <code>ts-node</code> can transpile just as <code>tsc</code></li>
</ul>
</li>
<li><code>gulp</code> :
<ul>
<li><a href="https://github.com/gulpjs/gulp/blob/master/docs/getting-started/2-javascript-and-gulpfiles.md#transpilation">https://github.com/gulpjs/gulp/blob/master/docs/getting-started/2-javascript-and-gulpfiles.md#transpilation</a></li>
<li><a href="https://gulpjs.com/docs/en/getting-started/javascript-and-gulpfiles/#transpilation">https://gulpjs.com/docs/en/getting-started/javascript-and-gulpfiles/#transpilation</a></li>
<li><a href="https://medium.com/@pleerock/create-a-gulpfile-and-write-gulp-tasks-using-typescript-f08edebcac57">https://medium.com/@pleerock/create-a-gulpfile-and-write-gulp-tasks-using-typescript-f08edebcac57</a></li>
</ul>
</li>
<li>Very good to understand which files are included excluded in by <code>tsc</code> :
<ul>
<li><a href="https://dev.to/vdegenne/i-finally-understand-typescript-outdir-include-exclude-configuration-properties-5545">https://dev.to/vdegenne/i-finally-understand-typescript-outdir-include-exclude-configuration-properties-5545</a></li>
</ul>
</li>
<li>About <code>TypeSript</code> Modularization technologies :
<ul>
<li>about <code>es2020</code> <code>ECMAScript</code> modules <a href="https://www.typescriptlang.org/docs/handbook/2/modules.html">https://www.typescriptlang.org/docs/handbook/2/modules.html</a></li>
<li></li>
</ul>
</li>
<li>About a few compile time / runtime issues I met :
<ul>
<li><a href="https://bobbyhadz.com/blog/javascript-syntaxerror-cannot-use-import-statement-outside-module">https://bobbyhadz.com/blog/javascript-syntaxerror-cannot-use-import-statement-outside-module</a></li>
</ul>
</li>
<li>About <code>TypeScript</code> classes, interfaces :
<ul>
<li><a href="https://www.typescriptlang.org/docs/handbook/classes.html">https://www.typescriptlang.org/docs/handbook/classes.html</a></li>
<li><a href="https://www.typescriptlang.org/docs/handbook/interfaces.html">https://www.typescriptlang.org/docs/handbook/interfaces.html</a></li>
</ul>
</li>
</ul>

          </article>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-3">
        <div class="sticky-sidebar">
          
          <aside class="toc">
              <h5>
                Table Of Contents
              </h5>
              <div class="toc-content">
                <nav id="TableOfContents">
  <ul>
    <li><a href="#making-sense-of-your-tsconfigjson-typescript-configuration">Making sense of your <code>tsconfig.json</code> <code>TypeScript</code> configuration</a>
      <ul>
        <li><a href="#dockie-tests-first">Dockie Tests First</a></li>
        <li><a href="#its-now-time-to-use-our-brain-the-tsconfigjson">It&rsquo;s now time to use our brain: the <code>tsconfig.json</code></a></li>
      </ul>
    </li>
    <li><a href="#annex-a--tsc---init-reference-examples">ANNEX A : <code>tsc --init</code> Reference Examples</a></li>
    <li><a href="#annex-b--_what-version-of-ecmascript-exist-_">ANNEX B : <em><strong>What Version of <code>EcmaScript</code> exist ?</strong></em></a></li>
    <li><a href="#annex-c--general-build-process">ANNEX C : General Build process</a></li>
    <li><a href="#annex-d--about-the-alpine-image-i-used-for-the-containerized-tests">ANNEX D : About the alpine image I used for the Containerized tests</a></li>
    <li><a href="#annex-e--example-tsc-options-gnu-docs">ANNEX E : Example <code>tsc</code> Options GNU Docs</a></li>
    <li><a href="#more-typescript--class-interfaces-and-design-patterns">More <code>TypeScript</code> : class interfaces and design patterns</a></li>
    <li><a href="#building-my-own-cdn">Building my own CDN</a></li>
    <li><a href="#references">References</a></li>
  </ul>
</nav>
              </div>
          </aside>
          

          
          <aside class="tags">
            <h5>Tags</h5>
            <ul class="tags-ul list-unstyled list-inline">
              
              <li class="list-inline-item"><a href="https://jean-baptiste-lasselle.github.io/whoami-web/tags/typescript" target="_blank">TypeScript</a></li>
              
              <li class="list-inline-item"><a href="https://jean-baptiste-lasselle.github.io/whoami-web/tags/npx" target="_blank">npx</a></li>
              
              <li class="list-inline-item"><a href="https://jean-baptiste-lasselle.github.io/whoami-web/tags/hugo" target="_blank">hugo</a></li>
              
              <li class="list-inline-item"><a href="https://jean-baptiste-lasselle.github.io/whoami-web/tags/tsconfig.json" target="_blank">tsconfig.json</a></li>
              
            </ul>
          </aside>
          

          
          <aside class="social">
            <h5>Social</h5>
            <div class="social-content">
              <ul class="list-inline">
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://twitter.com/share?text=%28WIP%29%20Making%20sense%20of%20your%20tsconfig.json%20-%20episode%201&url=https%3a%2f%2fjean-baptiste-lasselle.github.io%2fwhoami-web%2fblogs%2fmaking-sens-tsconfig%2f">
                    <i class="fab fa-twitter"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://api.whatsapp.com/send?text=%28WIP%29%20Making%20sense%20of%20your%20tsconfig.json%20-%20episode%201: https%3a%2f%2fjean-baptiste-lasselle.github.io%2fwhoami-web%2fblogs%2fmaking-sens-tsconfig%2f">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="mailto:?subject=%28WIP%29%20Making%20sense%20of%20your%20tsconfig.json%20-%20episode%201&amp;body=Check out this site https%3a%2f%2fjean-baptiste-lasselle.github.io%2fwhoami-web%2fblogs%2fmaking-sens-tsconfig%2f">
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
              </ul>
            </div>
          </aside>
          
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-9 p-4">
        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "gurusabarish" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      </div>
    </div>
  </div>
  <button class="p-2 px-3" onclick="topFunction()" id="topScroll">
    <i class="fas fa-angle-up"></i>
  </button>
</section>

<script>
  var topScroll = document.getElementById("topScroll");
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      topScroll.style.display = "block";
    } else {
      topScroll.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
</script>


  </div><footer>
    <div class="container py-3" id="recent-posts">
    
    <div class="h3 text-center text-secondary py-3">Recent posts</div>
    <div class="row justify-content-center">
        
        <div class="col-lg-4 col-md-6 pt-2">
            <div class="card h-100">
                <div class="card-body bg-transparent p-3 shadow-sm">
                    <a href="/whoami-web/blogs/making-sens-tsconfig/" class="primary-font card-title">
                        <h5 class="card-title bg-transparent" title="(WIP) Making sense of your tsconfig.json - episode 1">(WIP) Making sense of …</h5>
                    </a>
                    <div class="card-text secondary-font">
                        <p>I recently needed to develop an npx executable, and wanted to code in TypeScript.
I therefore had to run again tsc --init, and that&rsquo;s where I decided to write this series of articles, with the goal to deeply understand how to choose my tsconfig.json configuration options.
In this series, I …</p>
                    </div>
                </div>
                <div class="mt-auto card-footer">
                    <span class="float-start">June 9, 2022</span>
                    <a href="/whoami-web/blogs/making-sens-tsconfig/" class="float-end btn btn-outline-info btn-sm">Read</a>
                </div>
            </div>
        </div>
        
    </div>
    
</div><div class="text-center pt-2">
    
    <span class="px-1">
        <a href="https://github.com/Jean-Baptiste-Lasselle" aria-label="github">
            <svg xmlns="http://www.w3.org/2000/svg" width="2.7em" height="2.7em" viewBox="0 0 1792 1792">
                <path
                    d="M522 1352q-8 9-20-3-13-11-4-19 8-9 20 3 12 11 4 19zm-42-61q9 12 0 19-8 6-17-7t0-18q9-7 17 6zm-61-60q-5 7-13 2-10-5-7-12 3-5 13-2 10 5 7 12zm31 34q-6 7-16-3-9-11-2-16 6-6 16 3 9 11 2 16zm129 112q-4 12-19 6-17-4-13-15t19-7q16 5 13 16zm63 5q0 11-16 11-17 2-17-11 0-11 16-11 17-2 17 11zm58-10q2 10-14 14t-18-8 14-15q16-2 18 9zm964-956v960q0 119-84.5 203.5t-203.5 84.5h-224q-16 0-24.5-1t-19.5-5-16-14.5-5-27.5v-239q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-86-13.5q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 103t.5 68q0 22-11 33.5t-22 13-33 1.5h-224q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z" />

                <metadata>
                    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                        xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:dc="http://purl.org/dc/elements/1.1/">
                        <rdf:Description about="https://iconscout.com/legal#licenses"
                            dc:title="Github, Online, Project, Hosting, Square"
                            dc:description="Github, Online, Project, Hosting, Square" dc:publisher="Iconscout"
                            dc:date="2016-12-14" dc:format="image/svg+xml" dc:language="en">
                            <dc:creator>
                                <rdf:Bag>
                                    <rdf:li>Font Awesome</rdf:li>
                                </rdf:Bag>
                            </dc:creator>
                        </rdf:Description>
                    </rdf:RDF>
                </metadata>
            </svg>
        </a>
    </span>
    

    
    <span class="px-1">
        <a href="https://www.linkedin.com/in/jean-baptiste-lasselle-b704591b4/" aria-label="linkedin">
            <svg xmlns="http://www.w3.org/2000/svg" width='2.4em' height='2.4em' fill="#fff" aria-label="LinkedIn"
                viewBox="0 0 512 512">
                <rect width="512" height="512" fill="#0077b5" rx="15%" />
                <circle cx="142" cy="138" r="37" />
                <path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198" />
                <path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32" />
            </svg>
        </a>
    </span>
    

    

    

    
</div><div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-4 text-center">
            <div class="pb-2">
                <a href="https://jean-baptiste-lasselle.github.io/whoami-web/" title="Devops Quant">
                    <img alt="Footer logo" src="https://jean-baptiste-lasselle.github.io/whoami-web///images/devops_cycle_eight.png"
                        height="40px" width="40px">
                </a>
            </div>
            &copy; 2022  All Rights Reserved
            <div class="text-secondary">
                Made with
                <span class="text-danger">
                    &#10084;
                </span>
                and
                <a href="https://github.com/gurusabarish/hugo-profile" target="_blank"
                    title="Designed and developed by gurusabarish">
                    Hugo Profile
                </a>
            </div>
        </div>
    </div>
</div>
</footer>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

</script>

<script>
    let loadingIcons;

    function loading() {
        myVar = setTimeout(showPage, 100);
    }

    function showPage() {
        try{
            document.getElementById("loading-icons").style.display = "block";
        } catch(err) {}
    }
</script></body>

</html>
